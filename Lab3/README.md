# Lab3

Дзензелюк Илья, 335140

## Тесты

[![Lab3 tests](https://github.com/dzen03/functional-programming/actions/workflows/lab3test.yml/badge.svg)](https://github.com/dzen03/functional-programming/actions/workflows/lab3test.yml)

## Требования к разработанному ПО

Разрабатываемое программное обеспечение должно:

- Обрабатывать входные данные: принимать точки, заданные в виде строк, и
корректно их парсить в числовой формат.
- Реализовывать два метода интерполяции:
  - Линейная интерполяция: соединение точек отрезками, где значение y
  вычисляется по линейной формуле.
  - Интерполяция по методу Ньютона: построение интерполяционного полинома
  с использованием разделённых разностей.
- Генерировать последовательность интерполированных точек с заданным шагом
для последующей визуализации или анализа.
- Обеспечивать выбор метода через соответствующие параметры конфигурации
(например, флаги UseLinear и UseNewton, а также параметры шага и размера окна
для метода Ньютона).

## Описание алгоритма

### Линейная интерполяция

1. Поиск подходящего отрезка: для заданного значения x выбирается пара
соседних точек, так чтобы x находилось между их абсциссами.
2. Вычисление значения y: используется формула
   `y = y_0 + (x - x_0)/(x_1 - x_0) * (y_1 - y_0)`
   где `(x_0, y_0)` и `(x_1, y_1)` – найденные соседние точки.

### Интерполяция методом Ньютона

1. Вычисление разделённых разностей:

   Для набора точек `(x_i, y_i)` строится список коэффициентов
   `(a_0, a_1, ..., a_n)`, где `a_0 = y_0` и каждый следующий коэффициент
   вычисляется как
     `a_j = (f[x_1,...,x_j] - f[x_0,...,x_j-1]) / (x_j - x_0)`.
2. Построение полинома Ньютона:

   `P(x) = a_0 + a_1 (x - x_0) + a_2 (x - x_0)(x - x_1) + ... + a_n
   (x - x_0)...(x - x_n-1)`

   Значение \(P(x)\) вычисляется с помощью схемы, аналогичной схеме Горнера.
3. Скользящее окно:

  Для повышения устойчивости вычислений и локальной
   точности применяется окно фиксированного размера, в пределах которого
   рассчитываются коэффициенты.

## Ввод/Вывод программы

### Метод Ньютона

```text
cat data/newton.csv | dotnet run --newton -n 4 --step 0.5
< 0,0
< 1,1
< 2,2
< 3,3
< 4,4
< 5,5
< 7,7
< 8,8
> newton: 0 0
> newton: 0.5 0.5
> newton: 1 1
> newton: 1.5 1.5
> newton: 2 2
> newton: 2.5 2.5
> newton: 3 3
> newton: 3.5 3.5
> newton: 4 4
> newton: 4.5 4.5
> newton: 5 5
> newton: 5.5 5.5
> newton: 6 6
> newton: 6.5 6.5
> newton: 7 7
> newton: 7.5 7.5
> newton: 8 8
```

### Линейный метод

```text
cat data/linear.csv | dotnet run --linear --step 0.7
< 0,0
< 1,1
< 2,2
< 3,3
> linear: 0 0
> linear: 0.7 0.7
> linear: 1.4 1.4
> linear: 2.1 2.1
> linear: 2.8 2.8
```

## Выводы

В ходе разработки были успешно применены приемы функциональной разработки
(последовательности, например)

Использованные методы и приёмы F# продемонстрировали свою эффективность для
задач численной интерполяции, позволяя создавать компактный, ясный и легко
расширяемый код.
